# Import libraries
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Set style
sns.set(style="whitegrid")
plt.rcParams["figure.figsize"] = (12, 6)

# Load dataset
file_path = "German_FinTechCompanies.csv"  # Change if needed
df = pd.read_csv(file_path)

# Clean data for plotting
df['Founding year'] = df['Founding year'].dropna().astype(int)
df = df.dropna(subset=['City', 'Segment', 'Legal form'])

# --- 1. Bar Plot: Company count per city ---
top_cities = df['City'].value_counts().head(10)

plt.figure(figsize=(10, 6))
sns.barplot(x=top_cities.values, y=top_cities.index, palette="crest")
plt.title("Top 10 Cities by Number of FinTech Companies")
plt.xlabel("Number of Companies")
plt.ylabel("City")
plt.tight_layout()
plt.show()

# --- 2. Line Chart: Founding year trend ---
founding_trend = df['Founding year'].value_counts().sort_index()

plt.figure(figsize=(10, 6))
sns.lineplot(x=founding_trend.index, y=founding_trend.values, marker="o", color='steelblue')
plt.title("Trend of FinTech Company Foundings Over Years")
plt.xlabel("Year")
plt.ylabel("Number of Companies")
plt.grid(True)
plt.tight_layout()
plt.show()